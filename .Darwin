# -*- mode: sh; -*-

export DYLD_LIBRARY_PATH=~/.local/lib:$DYLD_LIBRARY_PATH

# Setup bash completion
[ -f /opt/local/etc/bash_completion ] && source /opt/local/etc/bash_completion
[ -f /opt/local/etc/profile.d/cdargs-bash.sh ] && source /opt/local/etc/profile.d/cdargs-bash.sh

# virtualenvs (workon)
# symlink this to /opt/local/Library/Frameworks/Python.framework/Versions/2.7/bin/virtualenvwrapper_lazy.sh
# virtualenvs
export WORKON_HOME=$HOME/.virtualenvs
export VIRTUALENVWRAPPER_LOG_DIR="$WORKON_HOME"
export VIRTUALENVWRAPPER_HOOK_DIR="$WORKON_HOME"
if [ -f ~/.local/bin/virtualenvwrapper_lazy.sh ]
then
    # sometimes it's here
    source ~/.local/bin/virtualenvwrapper_lazy.sh
elif [ -f ~/Library/Python/2.7/bin/virtualenvwrapper_lazy.sh ]
then
    # sometimes it's there
    export PATH=$PATH:~/Library/Python/2.7/bin
    source ~/Library/Python/2.7/bin/virtualenvwrapper_lazy.sh
fi

export LC_CTYPE=en_US.UTF-8

# Add tab completion for `defaults read|write NSGlobalDomain`
# You could just use `-g` instead, but I like being explicit
complete -W "NSGlobalDomain" defaults

# Add `killall` tab completion for common apps
complete -o "nospace" -W "Contacts Calendar Dock Finder Mail Safari iTunes SystemUIServer Terminal Twitter" killall


# Use emacs-app from macports if available
if [ -d /Applications/MacPorts/Emacs.app/Contents/MacOS ]
then
    alias emacsd="/Applications/MacPorts/Emacs.app/Contents/MacOS/Emacs --daemon"
    alias e='/Applications/MacPorts/Emacs.app/Contents/MacOS/bin/emacsclient -n "$@"'
    alias ec='/Applications/MacPorts/Emacs.app/Contents/MacOS/bin/emacsclient -c -n "$@"'
fi
alias eskill="emacsclient -e '(client-save-kill-emacs)'"
alias ekill=" emacsclient -e '(kill-emacs)'"

export ETS_TOOLKIT=qt4

if [ -f ~/.lessfilter ]
then
   export LESSOPEN='| ~/.lessfilter %s'
elif [ -f /opt/local/bin/lesspipe.sh ]
then
    export LESSOPEN='| /opt/local/bin/lesspipe.sh %s'
fi

if [ -d ~/opt/google-cloud-sdk ]
then
    # The next line updates PATH for the Google Cloud SDK.
    source '/Users/baart_f/opt/google-cloud-sdk/path.bash.inc'
    # The next line enables shell command completion for gcloud.
    source '/Users/baart_f/opt/google-cloud-sdk/completion.bash.inc'
fi
